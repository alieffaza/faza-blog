{% extends "base.html" %}
{% block title %}Dashboard Admin - Faza Blog{% endblock %}
{% block content %}
<style>
  .admin-sidebar {
    min-height: 80vh;
    position: sticky;
    top: 90px;
    background: #f8f9fa;
    border-radius: 10px;
    padding-top: 20px;
  }
  .admin-table th {
    background: #23244a;
    color: #fff;
    font-weight: 700;
    border-top: none;
    border-bottom: 2px solid #2dce89;
  }
  .admin-table td {
    background: #23244a;
    color: #fff;
    border-top: 1px solid #23244a;
    vertical-align: middle;
  }
  .admin-table tr {
    transition: background 0.2s;
  }
  .admin-table tr:hover td {
    background: #23244aee;
  }
  .admin-card {
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  }
</style>
<div class="container-fluid py-4 py-md-5 px-3 px-md-5 mt-5">
  <div class="row">
    <div class="col-md-2 pr-0">
      {% include "admin_sidebar.html" %}
    </div>
    <div class="col-md-10">
      <h2 class="mb-4 font-weight-bold">Dashboard Admin</h2>
      <div class="row mb-4">
        <div class="col-md-4 mb-3">
          <div class="card text-white bg-primary admin-card h-100">
            <div class="card-body py-4 px-4">
              <h5 class="card-title">Total User</h5>
              <p class="card-text display-4">{{ users|length }}</p>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <div class="card text-white bg-success admin-card h-100">
            <div class="card-body py-4 px-4">
              <h5 class="card-title">Total Artikel</h5>
              <p class="card-text display-4">{{ artikels|length }}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="card mb-4 admin-card">
        <div class="card-header font-weight-bold py-3 px-4">Daftar User</div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table mb-0 admin-table">
              <thead><tr><th>Username</th><th>Email</th><th>Role</th></tr></thead>
              <tbody>
                {% for user in users %}
                <tr>
                  <td>{{ user.username }}</td>
                  <td>{{ user.email }}</td>
                  <td>{% if user.is_superuser %}Admin{% elif user.is_staff %}Penulis{% else %}User{% endif %}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="card admin-card">
        <div class="card-header font-weight-bold py-3 px-4">Daftar Artikel</div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table mb-0 admin-table">
              <thead><tr><th>Judul</th><th>Tanggal</th></tr></thead>
              <tbody>
                {% for artikel in artikels %}
                <tr>
                  <td>{{ artikel.judul }}</td>
                  <td>{{ artikel.tanggal }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} 